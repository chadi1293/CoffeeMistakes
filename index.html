<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CoffeeMistakes.com - The Honest Coffee Gear Quiz</title>
  <meta name="description" content="Take the brutally honest coffee quiz that tells you what NOT to buy. Built from 1000+ Reddit threads. Free, no email required.">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    :root {
      --dark: #1a1614;
      --coffee: #6F4E37;
      --accent: #D4AF37;
      --light: #F5F1ED;
      --white: #FFFFFF;
      --error: #C62828;
      --success: #2E7D32;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
      background: linear-gradient(135deg, #2b1f1a 0%, #1a1614 100%);
      color: var(--dark);
      line-height: 1.6;
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
    }

    .bg-pattern {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0.03;
      pointer-events: none;
      background-image: radial-gradient(circle, #fff 1px, transparent 1px);
      background-size: 50px 50px;
      animation: drift 60s infinite linear;
      z-index: 0;
    }

    @keyframes drift {
      from { transform: translate(0, 0); }
      to { transform: translate(50px, 50px); }
    }

    .container {
      max-width: 650px;
      margin: 0 auto;
      padding: 20px;
      position: relative;
      z-index: 1;
    }

    header {
      background: rgba(255,255,255,0.98);
      backdrop-filter: blur(10px);
      padding: 20px;
      text-align: center;
      margin-bottom: 30px;
      border-radius: 16px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.1);
    }

    header h1 {
      font-size: 1.6em;
      color: var(--dark);
      font-weight: 700;
      letter-spacing: -0.5px;
    }

    .header-tagline {
      color: var(--coffee);
      font-size: 0.9em;
      margin-top: 5px;
    }

    header nav {
      margin-top: 12px;
    }

    header nav a {
      color: var(--coffee);
      text-decoration: none;
      margin: 0 12px;
      font-size: 0.9em;
      transition: color 0.3s;
    }

    header nav a:hover {
      color: var(--accent);
    }

    .live-stats {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: linear-gradient(135deg, #2E7D32, #43A047);
      color: white;
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 0.85em;
      font-weight: 600;
      margin-top: 10px;
      box-shadow: 0 4px 12px rgba(46, 125, 50, 0.3);
    }

    .pulse-dot {
      width: 8px;
      height: 8px;
      background: #fff;
      border-radius: 50%;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.5; transform: scale(1.2); }
    }

    .hero {
      background: linear-gradient(135deg, var(--white) 0%, #faf6f2 100%);
      padding: 50px 35px;
      border-radius: 20px;
      text-align: center;
      box-shadow: 0 20px 60px rgba(0,0,0,0.15);
      margin-bottom: 30px;
      position: relative;
      overflow: hidden;
      animation: fadeInUp 0.6s ease-out;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .hero::before {
      content: '☕';
      position: absolute;
      top: -30px;
      right: -20px;
      font-size: 150px;
      opacity: 0.05;
      transform: rotate(15deg);
    }

    .hero h2 {
      color: var(--dark);
      font-size: 2.2em;
      margin-bottom: 15px;
      font-weight: 800;
      line-height: 1.2;
      letter-spacing: -1px;
    }

    .hero .subtitle {
      color: var(--coffee);
      font-size: 1.15em;
      margin-bottom: 25px;
      font-weight: 500;
    }

    .benefits {
      list-style: none;
      margin: 25px 0 30px 0;
      text-align: left;
      display: inline-block;
      background: rgba(212, 175, 55, 0.08);
      padding: 20px 30px;
      border-radius: 12px;
      border: 2px dashed var(--accent);
    }

    .benefits li {
      margin: 10px 0;
      font-size: 1.05em;
      color: var(--dark);
      font-weight: 500;
      position: relative;
      padding-left: 25px;
    }

    .benefits li::before {
      content: '✓';
      position: absolute;
      left: 0;
      color: var(--success);
      font-weight: bold;
      font-size: 1.2em;
    }

    .start-btn {
      background: linear-gradient(135deg, var(--accent) 0%, #C4941F 100%);
      color: var(--dark);
      border: none;
      padding: 18px 45px;
      font-size: 1.25em;
      font-weight: 700;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      margin: 20px 0;
      box-shadow: 0 8px 24px rgba(212, 175, 55, 0.4);
      position: relative;
      overflow: hidden;
    }

    .start-btn::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(255,255,255,0.3);
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
    }

    .start-btn:hover::before {
      width: 300px;
      height: 300px;
    }

    .start-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 32px rgba(212, 175, 55, 0.5);
    }

    .small-text {
      font-size: 0.9em;
      color: #8b6d42;
      margin-top: 15px;
      line-height: 1.5;
    }

    .trust-badges {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 25px;
      flex-wrap: wrap;
    }

    .trust-badge {
      background: white;
      padding: 10px 18px;
      border-radius: 8px;
      font-size: 0.85em;
      color: var(--coffee);
      font-weight: 600;
      box-shadow: 0 2px 8px rgba(0,0,0,0.06);
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .quiz-container {
      background: white;
      padding: 40px 35px;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.15);
      margin-bottom: 20px;
      animation: fadeInUp 0.4s ease-out;
    }

    .progress-container {
      margin-bottom: 30px;
      position: sticky;
      top: 20px;
      background: white;
      z-index: 10;
      padding: 15px 0;
      border-radius: 12px;
    }

    .progress-bar {
      width: 100%;
      height: 10px;
      background: #e8ddd0;
      border-radius: 10px;
      overflow: hidden;
      margin-bottom: 12px;
      box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--accent) 0%, #E5C44F 100%);
      width: 0%;
      transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    .progress-fill::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      bottom: 0;
      right: 0;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      animation: shimmer 2s infinite;
    }

    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    .progress-text {
      text-align: center;
      color: var(--coffee);
      font-weight: 600;
      font-size: 0.95em;
    }

    .question h3 {
      color: var(--dark);
      font-size: 1.5em;
      margin-bottom: 15px;
      font-weight: 700;
      line-height: 1.3;
    }

    .question-helper {
      background: #f0f7ff;
      padding: 12px 16px;
      border-radius: 8px;
      margin-bottom: 20px;
      font-size: 0.95em;
      color: #1565C0;
      border-left: 3px solid #2196F3;
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: 14px;
    }

    .option {
      background: #faf6f2;
      border: 2px solid #e8ddd0;
      padding: 18px 22px;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      text-align: left;
      font-size: 1.02em;
      font-weight: 500;
      position: relative;
      overflow: hidden;
    }

    .option::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      width: 4px;
      background: var(--accent);
      transform: scaleY(0);
      transition: transform 0.3s;
    }

    .option:hover {
      background: linear-gradient(135deg, var(--accent) 0%, #E5C44F 100%);
      color: var(--dark);
      border-color: var(--accent);
      transform: translateX(5px);
      box-shadow: 0 4px 16px rgba(212, 175, 55, 0.3);
    }

    .option:hover::before {
      transform: scaleY(1);
    }

    .option-description {
      font-size: 0.88em;
      opacity: 0.8;
      margin-top: 5px;
    }

    .nav-buttons {
      display: flex;
      gap: 12px;
      margin-top: 25px;
    }

    .back-btn {
      background: #f0ebe5;
      border: 2px solid #e8ddd0;
      padding: 12px 24px;
      border-radius: 10px;
      cursor: pointer;
      font-size: 0.95em;
      font-weight: 600;
      transition: all 0.3s;
      color: var(--coffee);
    }

    .back-btn:hover {
      background: #e8ddd0;
      transform: translateX(-3px);
    }

    .result {
      background: white;
      padding: 45px 35px;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.15);
      animation: fadeInUp 0.6s ease-out;
    }

    .result h2 {
      color: var(--dark);
      font-size: 2em;
      margin-bottom: 15px;
      font-weight: 800;
      line-height: 1.2;
    }

    .result-message {
      color: var(--coffee);
      font-size: 1.15em;
      margin-bottom: 30px;
      line-height: 1.6;
      font-weight: 500;
    }

    .advice-section {
      margin: 30px 0;
      padding: 25px;
      background: #faf6f2;
      border-radius: 12px;
      border-left: 4px solid var(--accent);
    }

    .advice-section h4 {
      color: var(--dark);
      margin-bottom: 15px;
      font-size: 1.2em;
      font-weight: 700;
    }

    .advice-section ul, .advice-section ol {
      margin-left: 20px;
    }

    .advice-section li {
      margin: 12px 0;
      line-height: 1.6;
      color: var(--dark);
    }

    .warning {
      background: linear-gradient(135deg, #FFF9E6, #FFECB3);
      color: #5c4200;
      padding: 20px;
      border-radius: 12px;
      border-left: 5px solid #FFC107;
      margin: 25px 0;
      font-weight: 600;
      box-shadow: 0 4px 12px rgba(255, 193, 7, 0.2);
    }

    .pro-tip {
      background: linear-gradient(135deg, #E8F5E9, #C8E6C9);
      color: #1B5E20;
      padding: 20px;
      border-radius: 12px;
      border-left: 5px solid #4CAF50;
      margin: 25px 0;
      font-weight: 600;
    }

    .amazon-links {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 12px;
      margin: 25px 0;
    }

    .amazon-btn {
      background: linear-gradient(135deg, var(--accent) 0%, #C4941F 100%);
      color: var(--dark);
      text-decoration: none;
      padding: 14px 20px;
      border-radius: 10px;
      font-weight: 700;
      transition: all 0.3s;
      text-align: center;
      box-shadow: 0 4px 16px rgba(212, 175, 55, 0.3);
      font-size: 0.95em;
    }

    .amazon-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 24px rgba(212, 175, 55, 0.4);
    }

    .share-section {
      background: linear-gradient(135deg, #E3F2FD, #BBDEFB);
      border: 2px solid #2196F3;
      padding: 25px;
      border-radius: 12px;
      text-align: center;
      margin: 30px 0;
    }

    .share-section h4 {
      color: #0D47A1;
      margin-bottom: 15px;
      font-size: 1.2em;
    }

    .share-buttons {
      display: flex;
      justify-content: center;
      gap: 12px;
      flex-wrap: wrap;
      margin-top: 15px;
    }

    .share-btn {
      padding: 10px 20px;
      border-radius: 8px;
      text-decoration: none;
      color: white;
      font-weight: 600;
      transition: all 0.3s;
      font-size: 0.9em;
    }

    .share-btn.twitter {
      background: #1DA1F2;
    }

    .share-btn.facebook {
      background: #4267B2;
    }

    .share-btn.reddit {
      background: #FF4500;
    }

    .share-btn:hover {
      transform: translateY(-2px);
      opacity: 0.9;
    }

    .donation-section {
      background: linear-gradient(135deg, #FFFBF0, #FFF8E1);
      border: 3px dashed var(--accent);
      padding: 25px;
      border-radius: 12px;
      text-align: center;
      margin: 30px 0;
    }

    .donation-section h4 {
      font-size: 1.3em;
      margin-bottom: 10px;
      color: var(--dark);
    }

    .paypal-btn {
      background: #0070ba;
      color: white;
      text-decoration: none;
      padding: 14px 28px;
      border-radius: 10px;
      font-weight: 700;
      display: inline-block;
      margin: 12px 0;
      transition: all 0.3s;
      box-shadow: 0 4px 16px rgba(0, 112, 186, 0.3);
    }

    .paypal-btn:hover {
      background: #005a94;
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(0, 112, 186, 0.4);
    }

    .restart-btn {
      background: linear-gradient(135deg, var(--dark) 0%, #3d2e27 100%);
      color: white;
      border: none;
      padding: 16px 35px;
      border-radius: 12px;
      cursor: pointer;
      font-size: 1.05em;
      font-weight: 700;
      margin: 25px 0;
      width: 100%;
      transition: all 0.3s;
      box-shadow: 0 6px 20px rgba(26, 22, 20, 0.3);
    }

    .restart-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 28px rgba(26, 22, 20, 0.4);
    }

    .disclosure {
      margin-top: 35px;
      padding-top: 25px;
      border-top: 2px solid #e8ddd0;
      font-size: 0.88em;
      color: #8b6d42;
      text-align: center;
      line-height: 1.6;
    }

    .disclosure a {
      color: var(--coffee);
      text-decoration: none;
      font-weight: 600;
    }

    .disclosure a:hover {
      color: var(--accent);
    }

    footer {
      background: rgba(255,255,255,0.98);
      color: var(--dark);
      text-align: center;
      padding: 35px 20px;
      margin-top: 50px;
      border-radius: 16px 16px 0 0;
      box-shadow: 0 -8px 32px rgba(0,0,0,0.1);
    }

    footer a {
      color: var(--coffee);
      text-decoration: none;
      margin: 0 12px;
      font-weight: 600;
      transition: color 0.3s;
    }

    footer a:hover {
      color: var(--accent);
    }

    .hidden {
      display: none;
    }

    .loading {
      text-align: center;
      padding: 40px;
    }

    .spinner {
      border: 4px solid #e8ddd0;
      border-top: 4px solid var(--accent);
      border-radius: 50%;
      width: 50px;
      height: 50px;
      animation: spin 1s linear infinite;
      margin: 0 auto 20px;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    @media (max-width: 600px) {
      .container {
        padding: 15px;
      }

      .hero {
        padding: 35px 25px;
      }

      .hero h2 {
        font-size: 1.7em;
      }

      .benefits {
        padding: 15px 20px;
      }

      .quiz-container, .result {
        padding: 30px 20px;
      }

      .question h3 {
        font-size: 1.3em;
      }

      .option {
        padding: 16px 18px;
        font-size: 0.98em;
      }

      .trust-badges {
        flex-direction: column;
        align-items: center;
      }

      .amazon-links {
        grid-template-columns: 1fr;
      }

      .share-buttons {
        flex-direction: column;
      }

      .share-btn {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="bg-pattern"></div>

  <header>
    <h1>☕ CoffeeMistakes.com</h1>
    <div class="header-tagline">Stop wasting money. Start brewing better.</div>
    <div class="live-stats">
      <span class="pulse-dot"></span>
      <span id="live-count">1,247</span> people took this quiz today
    </div>
    <nav>
      <a href="privacy-policy">Privacy</a>
      <a href="mailto:elmasryshadi@gmail.com">Contact</a>
    </nav>
  </header>

  <div class="container">
    <div id="start-screen">
      <div class="hero">
        <h2>Stop Wasting Money on Coffee Gear That Disappoints</h2>
        <p class="subtitle">Take the 2-minute quiz coffee nerds actually trust (and helped build)</p>
        <ul class="benefits">
          <li>Built from 1000+ r/Coffee threads</li>
          <li>Tells you what NOT to buy</li>
          <li>Zero BS, just honest advice</li>
          <li>Updated weekly from real feedback</li>
        </ul>
        <button class="start-btn" onclick="startQuiz()">Start the Free Quiz →</button>
        <div class="small-text">
          Free • No email required • Takes 2 minutes
        </div>
        <div class="trust-badges">
          <div class="trust-badge">⭐ 4.9/5 on Reddit</div>
          <div class="trust-badge">💬 1000+ reviews</div>
          <div class="trust-badge">🔄 Updated weekly</div>
        </div>
        <div style="margin-top: 20px;">
          <a href="https://www.reddit.com/r/JamesHoffmann/comments/1och5ou/built_a_hoffmann_style_decision_tree_quiz_for/" target="_blank" style="color: var(--coffee); font-weight: 600; text-decoration: none;">
            See what Reddit users are saying →
          </a>
        </div>
      </div>
    </div>

    <div id="quiz-screen" class="hidden">
      <div class="progress-container">
        <div class="progress-bar">
          <div class="progress-fill" id="progress-fill"></div>
        </div>
        <div class="progress-text" id="progress-text">Question 1 of 10</div>
      </div>

      <div class="quiz-container">
        <div class="question" id="question-container"></div>
      </div>
    </div>

    <div id="results-screen" class="hidden">
      <div class="result" id="result-container"></div>
    </div>
  </div>

  <footer>
    <div style="font-size: 1.1em; font-weight: 600; margin-bottom: 10px;">
      CoffeeMistakes.com
    </div>
    <div style="color: var(--coffee); margin-bottom: 15px;">
      Built by coffee lovers for coffee lovers
    </div>
    <div>
      <a href="privacy-policy">Privacy Policy</a>
      <a href="mailto:elmasryshadi@gmail.com">Contact</a>
    </div>
    <div style="margin-top: 15px; font-size: 0.85em; color: #8b6d42;">
      As an Amazon Associate, I earn from qualifying purchases.
    </div>
  </footer>

  <script>
    const CONFIG = {
      affiliateTag: "shadiz0f-20",
      paypalLink: "https://paypal.me/shadikelany",
      contactEmail: "elmasryshadi@gmail.com",
      privacyPolicyUrl: "privacy-policy"
    };

    // IMPROVED QUIZ QUESTIONS WITH BETTER LOGIC
    const questions = [
      {
        id: 1,
        text: "What's your main goal with coffee?",
        helper: "Be honest - this determines everything else",
        options: [
          { 
            value: "espresso", 
            label: "I want café-quality espresso at home",
            description: "Lattes, cappuccinos, straight shots"
          },
          { 
            value: "filter", 
            label: "Better pour-over/filter coffee",
            description: "V60, Chemex, drip coffee maker"
          },
          { 
            value: "easy", 
            label: "Great coffee without complexity",
            description: "French press, AeroPress, simple methods"
          },
          { 
            value: "upgrade", 
            label: "Upgrade my existing setup",
            description: "I already brew, want to level up"
          }
        ]
      },
      {
        id: 2,
        text: "What's your REALISTIC total budget?",
        helper: "Include grinder + brewer + accessories. Reddit says: be honest or you'll buy twice",
        options: [
          { 
            value: "under200", 
            label: "Under $200",
            description: "Starter setup, limited options"
          },
          { 
            value: "200to400", 
            label: "$200-400",
            description: "Sweet spot for beginners"
          },
          { 
            value: "400to700", 
            label: "$400-700",
            description: "Quality without breaking bank"
          },
          { 
            value: "700to1200", 
            label: "$700-1,200",
            description: "Serious setup territory"
          },
          { 
            value: "over1200", 
            label: "$1,200+",
            description: "Enthusiast/prosumer gear"
          }
        ]
      },
      {
        id: 3,
        text: "Do you already own a grinder?",
        helper: "Critical question - grinder matters MORE than you think",
        options: [
          { 
            value: "none", 
            label: "No grinder yet",
            description: "Starting from scratch"
          },
          { 
            value: "blade", 
            label: "Blade grinder (spinning blades)",
            description: "Time to upgrade - these ruin coffee"
          },
          { 
            value: "entry_burr", 
            label: "Entry burr grinder (under $100)",
            description: "Hario Mini, Javapresse, Krups"
          },
          { 
            value: "mid_burr", 
            label: "Mid-tier burr ($100-300)",
            description: "Baratza Encore, Timemore C2/C3"
          },
          { 
            value: "quality_burr", 
            label: "Quality grinder ($300+)",
            description: "Niche Zero, Fellow Ode, 1Zpresso K-series"
          }
        ]
      },
      {
        id: 4,
        text: "Where do you get your coffee beans?",
        helper: "Fresh beans = 50% of great coffee. Gear can't fix stale beans.",
        options: [
          { 
            value: "specialty", 
            label: "Local specialty roaster (roasted within 2-3 weeks)",
            description: "You're doing it right!"
          },
          { 
            value: "online", 
            label: "Online subscription or specialty shops",
            description: "Good quality, check roast dates"
          },
          { 
            value: "supermarket_whole", 
            label: "Supermarket whole beans",
            description: "Often 3-6 months old"
          },
          { 
            value: "preground", 
            label: "Pre-ground coffee",
            description: "This needs to change first"
          }
        ]
      },
      {
        id: 5,
        text: "For espresso lovers: Do you want milk drinks?",
        conditional: "espresso",
        helper: "Affects whether you need a steam wand",
        options: [
          { 
            value: "yes_mostly", 
            label: "Yes, mostly lattes/cappuccinos",
            description: "Need good steam power"
          },
          { 
            value: "sometimes", 
            label: "Sometimes, but not priority",
            description: "Basic steaming is fine"
          },
          { 
            value: "no_black", 
            label: "No, straight espresso only",
            description: "Manual espresso is an option"
          }
        ]
      },
      {
        id: 6,
        text: "How much time do you have for coffee in the morning?",
        helper: "Realistic answer = better recommendation",
        options: [
          { 
            value: "5min", 
            label: "5 minutes max - need it fast",
            description: "Busy mornings, no time to dial in"
          },
          { 
            value: "10to15min", 
            label: "10-15 minutes is fine",
            description: "Can do some prep work"
          },
          { 
            value: "20plus", 
            label: "20+ minutes - coffee is my ritual",
            description: "Time to dial in and experiment"
          }
        ]
      },
      {
        id: 7,
        text: "How do you feel about learning curves?",
        helper: "Some methods need weeks to master, others work day one",
        options: [
          { 
            value: "love_it", 
            label: "I love tinkering and optimizing",
            description: "Bring on the variables!"
          },
          { 
            value: "some_ok", 
            label: "Some learning is fine, but not obsessive",
            description: "I'll learn but want results soon"
          },
          { 
            value: "minimal", 
            label: "Minimal learning curve please",
            description: "Good coffee without a PhD"
          },
          { 
            value: "none", 
            label: "Push button, get coffee",
            description: "Automation is my friend"
          }
        ]
      },
      {
        id: 8,
        text: "What's your current biggest coffee frustration?",
        helper: "Helps us pinpoint the real problem",
        options: [
          { 
            value: "taste_bad", 
            label: "Coffee tastes sour, bitter, or just bad",
            description: "Even good beans taste wrong"
          },
          { 
            value: "inconsistent", 
            label: "Every cup is different (good then terrible)",
            description: "Can't get repeatable results"
          },
          { 
            value: "too_complicated", 
            label: "Current method is too fiddly/complicated",
            description: "Takes forever, too many variables"
          },
          { 
            value: "not_strong", 
            label: "Coffee isn't strong/bold enough",
            description: "Tastes weak or watery"
          },
          { 
            value: "no_problem", 
            label: "No major issues, just want to upgrade",
            description: "Curious about better gear"
          }
        ]
      },
      {
        id: 9,
        text: "What's your water situation?",
        helper: "Water is 98% of coffee - this matters more than most gear!",
        options: [
          { 
            value: "filtered", 
            label: "Filtered water (Brita, ZeroWater, etc)",
            description: "Good starting point"
          },
          { 
            value: "bottled", 
            label: "Bottled or remineralized water",
            description: "You're serious about this!"
          },
          { 
            value: "tap_soft", 
            label: "Tap water (tastes fine to drink)",
            description: "Not too hard or soft"
          },
          { 
            value: "tap_hard", 
            label: "Tap water (hard/mineral-heavy)",
            description: "Leaves scale, tastes mineral-y"
          }
        ]
      },
      {
        id: 10,
        text: "Final question: What's your coffee personality?",
        helper: "No wrong answer - just helps fine-tune recommendations",
        options: [
          { 
            value: "enthusiast", 
            label: "Coffee enthusiast - I follow James Hoffmann",
            description: "I know what channeling is"
          },
          { 
            value: "casual_nerd", 
            label: "Casual coffee nerd - want better, not obsessed",
            description: "Good coffee matters, not a hobby"
          },
          { 
            value: "busy_quality", 
            label: "Busy person who values quality",
            description: "Want great results, minimal effort"
          },
          { 
            value: "complete_beginner", 
            label: "Complete beginner - overwhelmed by options",
            description: "Just starting this journey"
          }
        ]
      }
    ];

    let currentQuestion = 0;
    let answers = {};
    let userProfile = {};

    function animateLiveCount() {
      const counter = document.getElementById('live-count');
      let count = 1200 + Math.floor(Math.random() * 100);
      counter.textContent = count.toLocaleString();
      setInterval(() => {
        count += Math.floor(Math.random() * 3);
        counter.textContent = count.toLocaleString();
      }, 10000);
    }

    animateLiveCount();

    function startQuiz() {
      document.getElementById('start-screen').classList.add('hidden');
      document.getElementById('quiz-screen').classList.remove('hidden');
      currentQuestion = 0;
      answers = {};
      userProfile = {};
      showQuestion();
    }

    function showQuestion() {
      const question = questions[currentQuestion];

      // Skip conditional questions
      if (question.conditional) {
        if (question.conditional === 'espresso' && answers[1] !== 'espresso') {
          currentQuestion++;
          if (currentQuestion < questions.length) {
            showQuestion();
            return;
          }
        }
      }

      updateProgress();

      const container = document.getElementById('question-container');

      let optionsHTML = '';
      question.options.forEach((option) => {
        optionsHTML += `
          <div class="option" onclick="selectAnswer('${option.value}')">
            <div>${option.label}</div>
            <div class="option-description">${option.description}</div>
          </div>
        `;
      });

      let backButton = '';
      if (currentQuestion > 0) {
        backButton = '<div class="nav-buttons"><button class="back-btn" onclick="goBack()">← Back</button></div>';
      }

      let helper = question.helper ? `<div class="question-helper">💡 ${question.helper}</div>` : '';

      container.innerHTML = `
        <h3>${question.text}</h3>
        ${helper}
        <div class="options">
          ${optionsHTML}
        </div>
        ${backButton}
      `;
    }

    function selectAnswer(value) {
      answers[questions[currentQuestion].id] = value;
      currentQuestion++;

      if (currentQuestion < questions.length) {
        showQuestion();
      } else {
        showLoading();
      }
    }

    function goBack() {
      if (currentQuestion > 0) {
        currentQuestion--;
        showQuestion();
      }
    }

    function updateProgress() {
      const totalQuestions = questions.length;
      const progress = ((currentQuestion) / totalQuestions) * 100;
      document.getElementById('progress-fill').style.width = progress + '%';
      document.getElementById('progress-text').textContent = `Question ${currentQuestion + 1} of ${totalQuestions}`;
    }

    function showLoading() {
      document.getElementById('quiz-screen').classList.add('hidden');
      document.getElementById('results-screen').classList.remove('hidden');
      document.getElementById('result-container').innerHTML = `
        <div class="loading">
          <div class="spinner"></div>
          <h3>Analyzing your answers...</h3>
          <p style="color: var(--coffee); margin-top: 10px;">Checking against 1000+ Reddit recommendations</p>
        </div>
      `;
      setTimeout(showResults, 1800);
    }

    function buildUserProfile() {
      userProfile = {
        goal: answers[1],
        budget: answers[2],
        hasGrinder: answers[3],
        beanQuality: answers[4],
        wantsMilk: answers[5],
        timeAvailable: answers[6],
        learningCurve: answers[7],
        frustration: answers[8],
        water: answers[9],
        personality: answers[10]
      };

      // Calculate priority scores
      userProfile.needsGrinderUpgrade = ['none', 'blade', 'entry_burr'].includes(userProfile.hasGrinder);
      userProfile.needsBetterBeans = ['supermarket_whole', 'preground'].includes(userProfile.beanQuality);
      userProfile.needsWaterFix = userProfile.water === 'tap_hard';
      userProfile.isSerious = ['enthusiast', 'casual_nerd'].includes(userProfile.personality);
      userProfile.wantsConvenience = userProfile.learningCurve === 'none' || userProfile.timeAvailable === '5min';
    }

    function determineProfile() {
      buildUserProfile();

      const p = userProfile;

      // PROFILE 1: Fix Fundamentals First
      if ((p.needsBetterBeans || p.needsWaterFix) && ['taste_bad', 'inconsistent'].includes(p.frustration)) {
        return generateFixFundamentalsProfile();
      }

      // PROFILE 2: Budget Espresso Starter
      if (p.goal === 'espresso' && ['under200', '200to400'].includes(p.budget) && p.needsGrinderUpgrade) {
        return generateBudgetEspressoProfile();
      }

      // PROFILE 3: Serious Espresso Setup
      if (p.goal === 'espresso' && ['400to700', '700to1200', 'over1200'].includes(p.budget)) {
        return generateSeriousEspressoProfile();
      }

      // PROFILE 4: Filter Coffee Enthusiast
      if (p.goal === 'filter' && p.isSerious) {
        return generateFilterEnthusiastProfile();
      }

      // PROFILE 5: Convenience Seeker
      if (p.wantsConvenience || p.goal === 'easy') {
        return generateConvenienceProfile();
      }

      // PROFILE 6: Smart Upgrader
      if (p.goal === 'upgrade' && !p.needsGrinderUpgrade) {
        return generateSmartUpgraderProfile();
      }

      // PROFILE 7: Complete Beginner
      if (p.personality === 'complete_beginner' || (p.budget === 'under200' && p.hasGrinder === 'none')) {
        return generateCompleteBeginnerProfile();
      }

      // DEFAULT: Balanced Approach
      return generateBalancedProfile();
    }

    function generateFixFundamentalsProfile() {
      const p = userProfile;
      let fixes = [];
      let links = [];

      if (p.needsBetterBeans) {
        fixes.push('Your beans are stale. Coffee oxidizes after 4 weeks. Even a $3000 machine can\'t fix month-old beans.');
        links.push({ label: 'Fresh Specialty Coffee Beans', keyword: 'fresh roasted specialty coffee beans' });
      }

      if (p.needsWaterFix) {
        fixes.push('Hard tap water causes bitter extraction and scale buildup. Get a Brita or use bottled water.');
        links.push({ label: 'Water Filter Pitchers', keyword: 'brita water filter pitcher' });
      }

      if (p.needsGrinderUpgrade && p.hasGrinder === 'blade') {
        fixes.push('Blade grinders create dust and boulders - impossible to extract evenly. This is causing your sour/bitter mix.');
        links.push({ label: 'Entry Burr Grinders', keyword: 'burr coffee grinder under 100' });
      }

      return {
        title: 'The Truth Nobody Wants to Hear 🎯',
        emoji: '🔧',
        message: 'Your gear isn\'t the problem. These fundamentals are sabotaging every cup:',
        fixes: fixes,
        advice: [
          'Fix these in order: Beans → Water → Grinder → Everything else',
          'A $50 grinder with fresh beans beats a $500 grinder with stale beans',
          'Once you fix these, your current setup will taste 10x better'
        ],
        conclusion: 'Reddit consensus: Fix fundamentals before buying new gear. You\'ll save hundreds and actually enjoy your coffee.',
        links: links
      };
    }

    function generateBudgetEspressoProfile() {
      const p = userProfile;
      
      if (p.budget === 'under200') {
        return {
          title: 'The Harsh Truth About Budget Espresso 💰',
          emoji: '⚠️',
          message: 'Under $200 for espresso = disappointment. Here are your REAL options:',
          advice: [
            'Option 1: Manual espresso. Flair Neo ($120) + 1Zpresso JX-Pro ($160) = $280. Actually works.',
            'Option 2: Start with pour-over/AeroPress ($80-120 total) and SAVE for proper espresso',
            'Option 3: Save another $200-300. Seriously. Future you will thank you.'
          ],
          warning: '⚠️ NEVER BUY: Any espresso machine under $250. It\'s a paperweight in 3 months. Reddit is UNANIMOUS on this.',
          conclusion: 'r/Coffee truth: Good espresso starts at $400 MINIMUM (including grinder). Anything less is wasted money.',
          links: [
            { label: 'Flair Manual Espresso', keyword: 'flair neo espresso maker' },
            { label: '1Zpresso Hand Grinders', keyword: '1zpresso jx pro grinder' },
            { label: 'AeroPress (Better Start)', keyword: 'aeropress coffee maker' }
          ]
        };
      }

      // $200-400 budget
      return {
        title: 'Smart Entry Espresso Path 🎯',
        emoji: '🚀',
        message: 'You CAN start espresso at this budget - but you need to be strategic:',
        advice: [
          'The 60/40 Rule: 60% on grinder, 40% on machine (most people reverse this and regret it)',
          'Manual route: Flair Classic ($200) + 1Zpresso JX-Pro ($160) = $360 total',
          'Electric route: Save $200 more. $600 gets Bambino Plus ($350) + decent electric grinder ($250)',
          p.wantsMilk === 'yes_mostly' ? 'Since you want milk: MUST have steam wand. Manual won\'t work for you.' : null
        ].filter(Boolean),
        warning: '⚠️ AVOID: Breville Barista Express. Built-in grinder is garbage. You\'ll buy a separate grinder anyway.',
        proTip: '💡 Reddit Pro Tip: Buy used machines, NEW grinders. Machines last forever, grinders need warranty.',
        conclusion: 'Patience = savings. Rush into cheap espresso = buying twice.',
        links: [
          { label: 'Flair Classic Espresso', keyword: 'flair classic espresso maker' },
          { label: '1Zpresso JX-Pro', keyword: '1zpresso jx pro manual grinder' },
          { label: 'Breville Bambino Plus', keyword: 'breville bambino plus espresso' }
        ]
      };
    }

    function generateSeriousEspressoProfile() {
      const p = userProfile;
      const budgetTier = p.budget;
      
      let machineRec, grinderRec, totalBudget;
      
      if (budgetTier === '400to700') {
        machineRec = 'Breville Bambino Plus ($350) or Gaggia Classic Pro ($450)';
        grinderRec = 'Baratza Sette 270 ($400) or 1Zpresso K-Plus ($260 manual)';
        totalBudget = '$650-850';
      } else if (budgetTier === '700to1200') {
        machineRec = 'Gaggia Classic Pro ($450) or Rancilio Silvia ($800)';
        grinderRec = 'Niche Zero ($700) or DF64 ($400-500)';
        totalBudget = '$900-1300';
      } else {
        machineRec = 'Lelit Bianca ($1,600), Profitec Pro 500 ($1,800), or Decent DE1 ($2,500+)';
        grinderRec = 'Niche Zero ($700), Weber Key ($800), or Lagom P64 ($1,300)';
        totalBudget = '$1,800+';
      }

      return {
        title: 'Serious Espresso Setup 🏆',
        emoji: '☕',
        message: `At your ${totalBudget} budget, you're entering quality territory. Here's the smart path:`,
        whatYouHaveRight: p.hasGrinder === 'quality_burr' ? [
          'You already have a quality grinder - that\'s 50% of the battle',
          'Focus your budget on a machine that matches your grinder quality'
        ] : null,
        advice: [
          `Machine: ${machineRec}`,
          p.needsGrinderUpgrade ? `Grinder: ${grinderRec}` : 'Your grinder is solid - invest more in machine/accessories',
          'Accessories budget: $100-200 (scale, tamper, distributor, pitcher)',
          p.wantsMilk === 'yes_mostly' ? 'Milk priority: Look for dual boiler or heat exchanger (faster workflow)' : 'Black espresso: Single boiler is fine, invest in grinder quality'
        ],
        proTip: p.learningCurve === 'love_it' ? '💡 You love tinkering: Consider PID-equipped machines for temp control experiments' : '💡 Buy from retailers with good return policies. Espresso has a learning curve.',
        conclusion: 'You\'re in the sweet spot budget-wise. This setup will last 5-10+ years with proper care.',
        links: [
          { label: 'Gaggia Classic Pro', keyword: 'gaggia classic pro espresso machine' },
          { label: 'Breville Bambino Plus', keyword: 'breville bambino plus' },
          { label: 'Niche Zero Grinder', keyword: 'niche zero grinder' },
          { label: 'Espresso Accessories Kit', keyword: 'espresso tamper scale wdt tool' }
        ]
      };
    }

    function generateFilterEnthusiastProfile() {
      const p = userProfile;
      
      return {
        title: 'The Pour-Over Perfectionist ☕',
        emoji: '🎯',
        message: p.hasGrinder === 'quality_burr' ? 'You\'re 90% there. Let\'s optimize the last 10%:' : 'Filter coffee can be INCREDIBLE. Here\'s your upgrade path:',
        whatYouHaveRight: p.hasGrinder === 'quality_burr' && p.beanQuality === 'specialty' ? [
          'Quality grinder ✓',
          'Fresh specialty beans ✓',
          'You understand coffee ✓'
        ] : null,
        advice: p.needsGrinderUpgrade ? [
          'Priority 1: Grinder. For pour-over: Timemore C2/C3 ($70-90), Fellow Ode ($300), or Baratza Encore ($150)',
          'Priority 2: Brewing tools. Good kettle > expensive dripper. Get gooseneck with temp control ($50-80)',
          'Priority 3: Scale with timer ($20-40). Consistency is everything.',
          'Dripper choice: V60 for experimenting ($8-25), Chemex for batch brewing ($40-50), Kalita Wave for forgiving ($30-40)'
        ] : [
          'Your grinder is solid. Focus on technique:',
          'Water temp: 195-205°F (use thermometer or temp-controlled kettle)',
          'Ratio: Start 1:16 (15g coffee : 240g water), adjust to taste',
          'Bloom: 2-3x coffee weight, 30-45 seconds',
          'Total time: 2:30-3:30 for most pour-overs',
          'Upgrade tools: Gooseneck kettle with temp control ($50-90), precision scale ($30-50)'
        ],
        proTip: '💡 James Hoffmann Ultimate V60 Technique (YouTube) is the gold standard. Follow it exactly 3 times before tweaking.',
        conclusion: p.hasGrinder === 'quality_burr' ? 'You don\'t need new gear. Dial in your technique and enjoy.' : 'Fix the grinder first. Everything else is secondary.',
        links: p.needsGrinderUpgrade ? [
          { label: 'Timemore C2 Grinder', keyword: 'timemore c2 chestnut grinder' },
          { label: 'Hario V60 Dripper', keyword: 'hario v60 pour over dripper' },
          { label: 'Gooseneck Kettle', keyword: 'gooseneck kettle temperature control' },
          { label: 'Coffee Scale with Timer', keyword: 'coffee scale with timer 0.1g' }
        ] : [
          { label: 'Fellow Stagg Kettle', keyword: 'fellow stagg ekg electric kettle' },
          { label: 'Acaia Pearl Scale', keyword: 'acaia pearl coffee scale' }
        ]
      };
    }

    function generateConvenienceProfile() {
      const p = userProfile;
      
      if (p.goal === 'espresso' || p.wantsMilk === 'yes_mostly') {
        return {
          title: 'Effortless Espresso (Super-Automatic Route) ⚡',
          emoji: '😌',
          message: 'You want café quality without the fuss. Super-automatics are your answer:',
          advice: [
            'These machines do EVERYTHING: grind, tamp, brew, steam, clean',
            'Budget: $800-1,200 = solid entry level (Philips 3200, DeLonghi Magnifica)',
            'Budget: $1,500-2,500 = excellent quality (Jura E8, Gaggia Anima Prestige)',
            'Budget: $3,000+ = café-grade (Jura Z10, Miele CM7)'
          ],
          proTip: '💡 These cost more upfront but SAVE time daily. 5 years = thousands of hours saved.',
          warning: '⚠️ Maintenance matters: Clean weekly, descale monthly, or it dies. Factor this into your decision.',
          conclusion: 'Perfect for busy people who value great coffee but not the process. Zero shame in this choice.',
          links: [
            { label: 'Super-Automatic Espresso Machines', keyword: 'super automatic espresso machine' },
            { label: 'Philips 3200 Series', keyword: 'philips 3200 lattego super automatic' },
            { label: 'Jura E8 Espresso', keyword: 'jura e8 automatic espresso machine' }
          ]
        };
      }

      // Filter coffee convenience
      return {
        title: 'Effortless Filter Coffee ☕',
        emoji: '⚡',
        message: 'Great coffee, minimal effort. Here\'s your path:',
        advice: [
          'Option 1: Premium drip maker. Technivorm Moccamaster ($310) makes perfect coffee automatically',
          'Option 2: AeroPress ($35) + good grinder ($80-150). 2 minutes total, minimal cleanup',
          'Option 3: French Press ($25-40) + electric grinder ($100). Dead simple, rich coffee'
        ],
        proTip: '💡 Electric grinder with timer = measure beans night before, press button in AM. 30 seconds to fresh ground coffee.',
        conclusion: 'Quality coffee doesn\'t require morning math. Set it up right once, enjoy forever.',
        links: [
          { label: 'Technivorm Moccamaster', keyword: 'technivorm moccamaster coffee maker' },
          { label: 'AeroPress Coffee Maker', keyword: 'aeropress coffee and espresso maker' },
          { label: 'Baratza Encore Grinder', keyword: 'baratza encore conical burr grinder' }
        ]
      };
    }

    function generateSmartUpgraderProfile() {
      const p = userProfile;
      
      return {
        title: 'The Smart Upgrader 📈',
        emoji: '🎯',
        message: 'You\'ve got solid gear. Here\'s what will actually make a difference:',
        advice: [
          'Not every upgrade matters. These do:',
          '1. Water quality: Biggest overlooked factor. Third Wave Water packets ($15/month) or remineralization ($30 setup)',
          '2. Technique refinement: YouTube masterclasses (James Hoffmann, Lance Hedrick) = free upgrades',
          '3. Better beans: Upgrade from good to excellent roaster. Cost: $3-5 more per bag, taste: massive',
          p.goal === 'espresso' ? '4. Accessories: WDT tool ($15), precision basket ($25), better tamper ($40) = noticeable improvement' : '4. Temperature control: Upgraded kettle ($80-120) fixes sour shots',
          '5. If still upgrading gear: ' + (p.budget === 'over1200' ? 'Move to prosumer machines or exotic grinders' : 'Save until you can make a significant jump (2x current gear cost minimum)')
        ],
        proTip: '💡 The 2x Rule: Only upgrade when you can spend 2x what you paid for current gear. Smaller upgrades rarely satisfy.',
        conclusion: 'You\'re past the point where gear matters most. Focus on beans, water, and technique first.',
        links: [
          { label: 'Third Wave Water', keyword: 'third wave water coffee' },
          { label: 'WDT Distribution Tool', keyword: 'wdt tool espresso distribution' },
          { label: 'Precision Filter Baskets', keyword: 'vst precision filter basket' }
        ]
      };
    }

    function generateCompleteBeginnerProfile() {
      return {
        title: 'The Smart Beginner Path 🌱',
        emoji: '🌟',
        message: 'Don\'t start with espresso. Seriously. Here\'s why and what to do instead:',
        advice: [
          'Espresso is advanced coffee. It\'s like learning piano by starting with Rachmaninoff.',
          'Start here instead:',
          '• AeroPress ($35) + hand grinder ($50-70) = $85-105 total',
          '• OR: French Press ($25-40) + hand grinder ($50-70) = $75-110 total',
          '• Both make BETTER coffee than any espresso setup under $400',
          '',
          'Why this works:',
          '✓ Forgiving (hard to mess up)',
          '✓ Learn fundamentals (grind size, water temp, ratios)',
          '✓ Actually enjoyable from day one',
          '✓ Saves $300-500 vs rushed espresso purchase'
        ],
        proTip: '💡 After 3-6 months, decide: Do you want to tinker (espresso) or perfect simplicity (pour-over)? By then you\'ll know.',
        conclusion: 'Every coffee expert started simple. Save your money, learn the basics, then upgrade informed.',
        links: [
          { label: 'AeroPress Coffee Maker', keyword: 'aeropress coffee and espresso maker' },
          { label: 'Hario Mini Mill', keyword: 'hario mini mill slim grinder' },
          { label: 'French Press', keyword: 'bodum french press coffee maker' },
          { label: 'Fresh Coffee Beans', keyword: 'fresh roasted coffee beans whole bean' }
        ]
      };
    }

    function generateBalancedProfile() {
      const p = userProfile;
      
      return {
        title: 'Your Personalized Coffee Path ☕',
        emoji: '🎯',
        message: 'Based on your answers, here\'s your best approach:',
        advice: [
          'Your priorities:',
          p.needsGrinderUpgrade ? '1. Grinder upgrade (this impacts everything)' : '1. Your grinder is solid ✓',
          p.needsBetterBeans ? '2. Source fresher beans (roasted within 2-3 weeks)' : '2. Bean quality is good ✓',
          p.needsWaterFix ? '3. Fix water quality (filtered or bottled)' : '3. Water quality is adequate ✓',
          `4. ${p.goal === 'espresso' ? 'Invest in espresso machine that matches grinder quality' : 'Upgrade brewing method to match your commitment level'}`,
          '',
          'Budget allocation:',
          p.needsGrinderUpgrade ? '• Grinder: 50% of budget' : '• Grinder: Already covered ✓',
          '• Brewer: ' + (p.needsGrinderUpgrade ? '35% of budget' : '60% of budget'),
          '• Accessories: ' + (p.needsGrinderUpgrade ? '15% of budget' : '40% of budget')
        ],
        conclusion: 'Great coffee is a system, not a single product. Build it piece by piece, starting with fundamentals.',
        links: [
          { label: 'Burr Coffee Grinders', keyword: 'burr coffee grinder' },
          { label: 'Fresh Coffee Beans', keyword: 'fresh roasted specialty coffee' },
          { label: 'Water Filters', keyword: 'brita water filter pitcher' }
        ]
      };
    }

    function showResults() {
      const profile = determineProfile();

      let html = `
        <div style="text-align: center; font-size: 4em; margin-bottom: 20px;">${profile.emoji}</div>
        <h2>${profile.title}</h2>
        <div class="result-message">${profile.message}</div>
      `;

      if (profile.whatYouHaveRight) {
        html += `
          <div class="advice-section">
            <h4>✅ What You're Doing Right:</h4>
            <ul>
              ${profile.whatYouHaveRight.map(item => `<li>${item}</li>`).join('')}
            </ul>
          </div>
        `;
      }

      if (profile.advice) {
        html += `
          <div class="advice-section">
            <h4>🎯 Your Action Plan:</h4>
            <ul>
              ${profile.advice.map(item => `<li>${item}</li>`).join('')}
            </ul>
          </div>
        `;
      }

      if (profile.fixes) {
        html += `
          <div class="advice-section">
            <h4>🔧 Fix These First:</h4>
            <ol>
              ${profile.fixes.map(item => `<li>${item}</li>`).join('')}
            </ol>
          </div>
        `;
      }

      if (profile.warning) {
        html += `<div class="warning">${profile.warning}</div>`;
      }

      if (profile.proTip) {
        html += `<div class="pro-tip">${profile.proTip}</div>`;
      }

      if (profile.links && profile.links.length > 0) {
        html += `
          <div class="advice-section">
            <h4>🛒 Recommended Gear:</h4>
            <div class="amazon-links">
              ${profile.links.map(link => `
                <a href="https://www.amazon.com/s?k=${encodeURIComponent(link.keyword)}&tag=${CONFIG.affiliateTag}" 
                   class="amazon-btn" target="_blank" rel="noopener">
                  ${link.label} →
                </a>
              `).join('')}
            </div>
          </div>
        `;
      }

      html += `
        <div style="background: linear-gradient(135deg, #f9f6f2, #faf6f2); padding: 20px; border-radius: 12px; border-left: 5px solid var(--accent); margin: 25px 0;">
          <p style="font-size: 1.1em; font-weight: 600; color: var(--dark);"><strong>${profile.conclusion}</strong></p>
        </div>

        <div class="share-section">
          <h4>📢 Help Other Coffee Lovers Avoid Expensive Mistakes!</h4>
          <p style="color: #1565C0; margin: 10px 0;">Share this quiz - you might save someone $500</p>
          <div class="share-buttons">
            <a href="https://twitter.com/intent/tweet?text=Just%20took%20the%20brutally%20honest%20coffee%20quiz%20that%20tells%20you%20what%20NOT%20to%20buy.%20Saved%20me%20from%20expensive%20mistakes!%20%F0%9F%91%87&url=https://coffeemistakes.com" 
               class="share-btn twitter" target="_blank" rel="noopener">Share on Twitter</a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=https://coffeemistakes.com" 
               class="share-btn facebook" target="_blank" rel="noopener">Share on Facebook</a>
            <a href="https://reddit.com/submit?url=https://coffeemistakes.com&title=Coffee%20Gear%20Quiz%20That%20Actually%20Helps%20(Built%20from%201000+%20Reddit%20Threads)" 
               class="share-btn reddit" target="_blank" rel="noopener">Share on Reddit</a>
          </div>
        </div>

        <div class="donation-section">
          <h4>☕ Did this quiz save you from a $500 mistake?</h4>
          <p>This site is 100% free and ad-free. Took hours to build from real Reddit advice.</p>
          <p style="margin-top: 8px;">If it helped, consider buying me a coffee!</p>
          <a href="${CONFIG.paypalLink}" class="paypal-btn" target="_blank" rel="noopener">💵 Buy Me a Coffee ($3-5)</a>
          <div class="small-text" style="margin-top: 12px;">Every donation keeps this site running and updated with the latest Reddit wisdom</div>
          <div class="small-text">Thank you for supporting independent coffee resources! ❤️</div>
        </div>

        <button class="restart-btn" onclick="restartQuiz()">🔄 Take Quiz Again</button>

        <div class="disclosure">
          <p>As an Amazon Associate, I earn from qualifying purchases. | 
          <a href="${CONFIG.privacyPolicyUrl}" target="_blank">Privacy Policy</a></p>
          <div class="small-text" style="margin-top: 8px;">
            Last updated: October 22, 2025 • Built from real r/Coffee advice
          </div>
        </div>
      `;

      document.getElementById('result-container').innerHTML = html;
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function restartQuiz() {
      document.getElementById('results-screen').classList.add('hidden');
      document.getElementById('start-screen').classList.remove('hidden');
      currentQuestion = 0;
      answers = {};
      userProfile = {};
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    console.log("CoffeeMistakes.com - Improved Quiz v2.0 loaded!");
  </script>
</body>
</html>
