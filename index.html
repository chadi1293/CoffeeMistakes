<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Take the free coffee quiz built from 1000+ Reddit threads. Get personalized coffee gear recommendations and learn what NOT to buy. Find the best coffee maker, grinder, and equipment for your budget and brewing style.">
  <meta name="keywords" content="coffee quiz, best coffee maker, coffee grinder guide, espresso machine recommendations, coffee equipment guide, home barista setup, best coffee gear, coffee brewing methods">
  <meta name="author" content="CoffeeMistakes.com">
  <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <link rel="canonical" href="https://coffeemistakes.com">
  <!-- Favicon -->
<link rel="icon" href="https://coffeemistakes.com/logo.png" type="image/png">

<!-- For Apple devices -->
<link rel="apple-touch-icon" href="https://coffeemistakes.com/logo.png">

<!-- For older browsers -->
<link rel="shortcut icon" href="https://coffeemistakes.com/logo.png" type="image/png">

  
  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://coffeemistakes.com">
  <meta property="og:title" content="Free Coffee Gear Quiz | Best Equipment Recommendations">
  <meta property="og:description" content="Discover what coffee equipment to buy and avoid. 2-minute personalized quiz based on 1000+ Reddit discussions. No email required.">
  <meta property="og:image" content="https://coffeemistakes.com/og-image.jpg">
  <meta property="og:site_name" content="CoffeeMistakes.com">
  
  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Free Coffee Gear Quiz | Best Equipment Recommendations">
  <meta name="twitter:description" content="Get personalized coffee equipment recommendations based on your budget and brewing style.">
  <meta name="twitter:image" content="https://coffeemistakes.com/og-image.jpg">

<!-- Schema.org - Main Quiz Schema (fixed) -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "CreativeWork",
  "name": "Coffee Equipment Recommendation Quiz",
  "description": "Interactive quiz to find personalized coffee equipment recommendations based on your needs, budget, and brewing preferences.",
  "url": "https://coffeemistakes.com",
  "image": "https://coffeemistakes.com/logo.png",
  "author": {
    "@type": "Organization",
    "name": "CoffeeMistakes.com",
    "logo": "https://coffeemistakes.com/logo.png"
  },
  "publisher": {
    "@type": "Organization",
    "name": "CoffeeMistakes.com",
    "logo": {
      "@type": "ImageObject",
      "url": "https://coffeemistakes.com/logo.png"
    }
  },
}
</script>


  <!-- FAQ Schema for SEO -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "What coffee equipment should I buy?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "The best coffee equipment depends on your budget, brewing preference, and lifestyle. Start with a quality grinder and fresh beans. For beginners, AeroPress or French Press are excellent entry points. For espresso lovers, budget $500+ for a quality setup."
        }
      },
      {
        "@type": "Question",
        "name": "How much should I spend on a coffee grinder?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Invest 30-50% of your coffee budget in a grinder. A quality burr grinder ($80-300) will improve your coffee more than an expensive brewer with a poor grinder."
        }
      },
      {
        "@type": "Question",
        "name": "What's the best coffee maker for beginners?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "AeroPress ($35) and French Press ($30) are ideal for beginners. They produce excellent coffee, require minimal learning, and are highly forgiving."
        }
      },
      {
        "@type": "Question",
        "name": "Is espresso worth the investment?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Espresso requires significant investment ($400-1000+) and learning curve. Beginners should start with filter coffee methods and upgrade to espresso only after confirming their commitment."
        }
      }
    ]
  }
  </script>

  <!-- Breadcrumb Schema -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "https://coffeemistakes.com"
      },
      {
        "@type": "ListItem",
        "position": 2,
        "name": "Privacy Policy",
        "item": "https://coffeemistakes.com/privacy-policy"
      }
    ]
  }
  </script>

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-2BC0DPMKQN"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-2BC0DPMKQN');
  </script>

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    :root {
      --dark: #1a1614;
      --coffee: #6F4E37;
      --accent: #D4AF37;
      --light: #F5F1ED;
      --white: #FFFFFF;
      --error: #C62828;
      --success: #2E7D32;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
      background: linear-gradient(135deg, #2b1f1a 0%, #1a1614 100%);
      color: var(--dark);
      line-height: 1.6;
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
    }

    .bg-pattern {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0.03;
      pointer-events: none;
      background-image: radial-gradient(circle, #fff 1px, transparent 1px);
      background-size: 50px 50px;
      z-index: 0;
    }

    .container {
      max-width: 700px;
      margin: 0 auto;
      padding: 20px;
      position: relative;
      z-index: 1;
    }

    header {
      background: rgba(255,255,255,0.98);
      backdrop-filter: blur(10px);
      padding: 20px;
      text-align: center;
      margin-bottom: 30px;
      border-radius: 16px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.1);
    }

    header h1 {
      font-size: 1.8em;
      color: var(--dark);
      font-weight: 700;
      letter-spacing: -0.5px;
      margin-bottom: 5px;
    }

    .header-tagline {
      color: var(--coffee);
      font-size: 0.95em;
      margin-bottom: 12px;
      font-weight: 500;
    }

    header nav {
      display: flex;
      justify-content: center;
      gap: 15px;
      flex-wrap: wrap;
      margin: 10px 0;
    }

    header nav a {
      color: var(--coffee);
      text-decoration: none;
      font-size: 0.9em;
      transition: color 0.3s;
      font-weight: 500;
    }

    header nav a:hover {
      color: var(--accent);
    }

    .live-stats {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: linear-gradient(135deg, #2E7D32, #43A047);
      color: white;
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 0.85em;
      font-weight: 600;
      margin-top: 10px;
      box-shadow: 0 4px 12px rgba(46, 125, 50, 0.3);
    }

    .pulse-dot {
      width: 8px;
      height: 8px;
      background: #fff;
      border-radius: 50%;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.5; transform: scale(1.2); }
    }

    .hero {
      background: linear-gradient(135deg, var(--white) 0%, #faf6f2 100%);
      padding: 50px 35px;
      border-radius: 20px;
      text-align: center;
      box-shadow: 0 20px 60px rgba(0,0,0,0.15);
      margin-bottom: 30px;
      position: relative;
      overflow: hidden;
    }

    .hero::before {
      content: '‚òï';
      position: absolute;
      top: -30px;
      right: -20px;
      font-size: 150px;
      opacity: 0.05;
      transform: rotate(15deg);
    }

    .hero h2 {
      color: var(--dark);
      font-size: 2.2em;
      margin-bottom: 15px;
      font-weight: 800;
      line-height: 1.2;
      letter-spacing: -1px;
    }

    .hero .subtitle {
      color: var(--coffee);
      font-size: 1.15em;
      margin-bottom: 25px;
      font-weight: 500;
    }

    .benefits {
      list-style: none;
      margin: 25px 0 30px 0;
      text-align: left;
      display: inline-block;
      background: rgba(212, 175, 55, 0.08);
      padding: 20px 30px;
      border-radius: 12px;
      border: 2px dashed var(--accent);
    }

    .benefits li {
      margin: 10px 0;
      font-size: 1.05em;
      color: var(--dark);
      font-weight: 500;
      padding-left: 25px;
      position: relative;
    }

    .benefits li::before {
      content: '‚úì';
      position: absolute;
      left: 0;
      color: var(--success);
      font-weight: bold;
      font-size: 1.2em;
    }

    .start-btn {
      background: linear-gradient(135deg, var(--accent) 0%, #C4941F 100%);
      color: var(--dark);
      border: none;
      padding: 18px 45px;
      font-size: 1.25em;
      font-weight: 700;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      margin: 20px 0;
      box-shadow: 0 8px 24px rgba(212, 175, 55, 0.4);
    }

    .start-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 32px rgba(212, 175, 55, 0.5);
    }

    .small-text {
      font-size: 0.9em;
      color: #8b6d42;
      margin-top: 15px;
      line-height: 1.5;
    }

    .trust-badges {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 25px;
      flex-wrap: wrap;
    }

    .trust-badge {
      background: white;
      padding: 10px 18px;
      border-radius: 8px;
      font-size: 0.85em;
      color: var(--coffee);
      font-weight: 600;
      box-shadow: 0 2px 8px rgba(0,0,0,0.06);
    }

    .quiz-container {
      background: white;
      padding: 40px 35px;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.15);
      margin-bottom: 20px;
    }

    .progress-container {
      margin-bottom: 30px;
      background: white;
      z-index: 10;
      padding: 15px 0;
      border-radius: 12px;
    }

    .progress-bar {
      width: 100%;
      height: 10px;
      background: #e8ddd0;
      border-radius: 10px;
      overflow: hidden;
      margin-bottom: 12px;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--accent) 0%, #E5C44F 100%);
      width: 0%;
      transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .progress-text {
      text-align: center;
      color: var(--coffee);
      font-weight: 600;
      font-size: 0.95em;
    }

    .question h3 {
      color: var(--dark);
      font-size: 1.5em;
      margin-bottom: 15px;
      font-weight: 700;
      line-height: 1.3;
    }

    .question-helper {
      background: #f0f7ff;
      padding: 12px 16px;
      border-radius: 8px;
      margin-bottom: 20px;
      font-size: 0.95em;
      color: #1565C0;
      border-left: 3px solid #2196F3;
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: 14px;
    }

    .option {
      background: #faf6f2;
      border: 2px solid #e8ddd0;
      padding: 18px 22px;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s;
      text-align: left;
      font-size: 1.02em;
      font-weight: 500;
    }

    .option:hover {
      background: linear-gradient(135deg, var(--accent) 0%, #E5C44F 100%);
      border-color: var(--accent);
      transform: translateX(5px);
      box-shadow: 0 4px 16px rgba(212, 175, 55, 0.3);
    }

    .option-description {
      font-size: 0.88em;
      opacity: 0.8;
      margin-top: 5px;
    }

    .nav-buttons {
      display: flex;
      gap: 12px;
      margin-top: 25px;
    }

    .back-btn {
      background: #f0ebe5;
      border: 2px solid #e8ddd0;
      padding: 12px 24px;
      border-radius: 10px;
      cursor: pointer;
      font-size: 0.95em;
      font-weight: 600;
      transition: all 0.3s;
      color: var(--coffee);
    }

    .back-btn:hover {
      background: #e8ddd0;
      transform: translateX(-3px);
    }

    .result {
      background: white;
      padding: 45px 35px;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.15);
    }

    .result h2 {
      color: var(--dark);
      font-size: 2em;
      margin-bottom: 15px;
      font-weight: 800;
      line-height: 1.2;
    }

    .result-message {
      color: var(--coffee);
      font-size: 1.15em;
      margin-bottom: 30px;
      line-height: 1.6;
      font-weight: 500;
    }

    .advice-section {
      margin: 30px 0;
      padding: 25px;
      background: #faf6f2;
      border-radius: 12px;
      border-left: 4px solid var(--accent);
    }

    .advice-section h3 {
      color: var(--dark);
      margin-bottom: 15px;
      font-size: 1.3em;
      font-weight: 700;
    }

    .advice-section ul, .advice-section ol {
      margin-left: 20px;
    }

    .advice-section li {
      margin: 12px 0;
      line-height: 1.6;
      color: var(--dark);
    }

    .warning {
      background: linear-gradient(135deg, #FFF9E6, #FFECB3);
      color: #5c4200;
      padding: 20px;
      border-radius: 12px;
      border-left: 5px solid #FFC107;
      margin: 25px 0;
      font-weight: 600;
    }

    .pro-tip {
      background: linear-gradient(135deg, #E8F5E9, #C8E6C9);
      color: #1B5E20;
      padding: 20px;
      border-radius: 12px;
      border-left: 5px solid #4CAF50;
      margin: 25px 0;
      font-weight: 600;
    }

    .amazon-section {
      margin: 30px 0;
      padding: 25px;
      background: linear-gradient(135deg, #FFF8DC, #FFFACD);
      border-radius: 12px;
      border: 2px solid var(--accent);
    }

    .amazon-section h3 {
      color: var(--dark);
      margin-bottom: 20px;
      font-size: 1.3em;
      font-weight: 700;
    }

    .amazon-links {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 15px;
    }

    .amazon-product {
      background: white;
      border: 1px solid #e8ddd0;
      border-radius: 10px;
      padding: 15px;
      text-align: center;
      transition: all 0.3s;
      box-shadow: 0 2px 8px rgba(0,0,0,0.06);
    }

    .amazon-product:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 16px rgba(0,0,0,0.12);
    }

    .product-name {
      font-weight: 700;
      color: var(--dark);
      margin-bottom: 8px;
      font-size: 0.95em;
    }

    .product-desc {
      font-size: 0.85em;
      color: #666;
      margin-bottom: 12px;
      line-height: 1.4;
    }

    .amazon-btn {
      background: linear-gradient(135deg, var(--accent) 0%, #C4941F 100%);
      color: var(--dark);
      text-decoration: none;
      padding: 12px 20px;
      border-radius: 8px;
      font-weight: 700;
      transition: all 0.3s;
      display: inline-block;
      font-size: 0.9em;
      box-shadow: 0 4px 12px rgba(212, 175, 55, 0.3);
    }

    .amazon-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 18px rgba(212, 175, 55, 0.4);
    }

    .share-section {
      background: linear-gradient(135deg, #E3F2FD, #BBDEFB);
      border: 2px solid #2196F3;
      padding: 25px;
      border-radius: 12px;
      text-align: center;
      margin: 30px 0;
    }

    .share-section h3 {
      color: #0D47A1;
      margin-bottom: 15px;
      font-size: 1.2em;
    }

    .share-buttons {
      display: flex;
      justify-content: center;
      gap: 12px;
      flex-wrap: wrap;
    }

    .share-btn {
      padding: 10px 20px;
      border-radius: 8px;
      text-decoration: none;
      color: white;
      font-weight: 600;
      transition: all 0.3s;
      font-size: 0.9em;
    }

    .share-btn.twitter { background: #1DA1F2; }
    .share-btn.facebook { background: #4267B2; }
    .share-btn.reddit { background: #FF4500; }

    .share-btn:hover { opacity: 0.9; }

    .restart-btn {
      background: linear-gradient(135deg, var(--dark) 0%, #3d2e27 100%);
      color: white;
      border: none;
      padding: 16px 35px;
      border-radius: 12px;
      cursor: pointer;
      font-size: 1.05em;
      font-weight: 700;
      margin: 25px 0;
      width: 100%;
      transition: all 0.3s;
    }

    .restart-btn:hover {
      transform: translateY(-2px);
    }

    .disclosure {
      margin-top: 35px;
      padding-top: 25px;
      border-top: 2px solid #e8ddd0;
      font-size: 0.88em;
      color: #8b6d42;
      text-align: center;
      line-height: 1.6;
    }

    .disclosure a {
      color: var(--coffee);
      text-decoration: none;
      font-weight: 600;
    }

    footer {
      background: rgba(255,255,255,0.98);
      color: var(--dark);
      text-align: center;
      padding: 35px 20px;
      margin-top: 50px;
      border-radius: 16px 16px 0 0;
      box-shadow: 0 -8px 32px rgba(0,0,0,0.1);
    }

    footer a {
      color: var(--coffee);
      text-decoration: none;
      margin: 0 12px;
      font-weight: 600;
      transition: color 0.3s;
    }

    footer a:hover {
      color: var(--accent);
    }

    .hidden { display: none; }

    .loading {
      text-align: center;
      padding: 40px;
    }

    .spinner {
      border: 4px solid #e8ddd0;
      border-top: 4px solid var(--accent);
      border-radius: 50%;
      width: 50px;
      height: 50px;
      animation: spin 1s linear infinite;
      margin: 0 auto 20px;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    @media (max-width: 600px) {
      .container { padding: 15px; }
      .hero { padding: 35px 25px; }
      .hero h2 { font-size: 1.7em; }
      .quiz-container, .result { padding: 30px 20px; }
      .question h3 { font-size: 1.3em; }
      .amazon-links { grid-template-columns: 1fr; }
      .share-buttons { flex-direction: column; }
      .share-btn { width: 100%; }
    }
  </style>
</head>
<body>
  <div class="bg-pattern"></div>

  <header>
    <h1>CoffeeMistakes.com</h1>
    <div class="header-tagline">Stop wasting money on bad coffee gear</div>
    <div class="live-stats">
      <span class="pulse-dot"></span>
      <span id="live-count">1,247</span> coffee lovers took this quiz today
    </div>
    <nav>
      <a href="#start-screen">Quiz</a>
      <a href="privacy-policy">Privacy</a>
      <a href="mailto:contact@coffeemistakes.com">Contact</a>
    </nav>
  </header>

  <main class="container">
    <section id="start-screen">
      <div class="hero">
        <h2>Find Your Perfect Coffee Setup</h2>
        <p class="subtitle">Free 2-minute quiz based on 1000+ Reddit discussions</p>
        <ul class="benefits">
          <li>Personalized recommendations for your budget</li>
          <li>Learn what NOT to buy (saves $100-500)</li>
          <li>Built from real r/Coffee expert advice</li>
          <li>Updated weekly with new feedback</li>
        </ul>
        <button class="start-btn" onclick="startQuiz()" aria-label="Start the free coffee gear quiz">Start the Free Quiz ‚Üí</button>
        <div class="small-text">
          ‚úì Completely free ‚Ä¢ ‚úì No email required ‚Ä¢ ‚úì Takes 2 minutes
        </div>
        <div class="trust-badges">
          <div class="trust-badge">‚≠ê 4.9/5 Rating</div>
          <div class="trust-badge">üí¨ 1,200+ Users</div>
          <div class="trust-badge">üîÑ Weekly Updates</div>
        </div>
      </div>
    </section>

    <section id="quiz-screen" class="hidden">
      <div class="progress-container">
        <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
          <div class="progress-fill" id="progress-fill"></div>
        </div>
        <div class="progress-text" id="progress-text">Question 1 of 8</div>
      </div>
      <div class="quiz-container">
        <div class="question" id="question-container"></div>
      </div>
    </section>

    <section id="results-screen" class="hidden">
      <div class="result" id="result-container"></div>
    </section>
  </main>

  <footer>
    <div style="font-size: 1.1em; font-weight: 600; margin-bottom: 10px;">CoffeeMistakes.com</div>
    <div style="color: var(--coffee); margin-bottom: 15px;">Built by coffee enthusiasts for coffee lovers</div>
    <nav>
      <a href="privacy-policy">Privacy Policy</a>
      <a href="mailto:contact@coffeemistakes.com">Contact</a>
      <a href="about">About</a>
    </nav>
    <div style="margin-top: 15px; font-size: 0.85em; color: #8b6d42;">
      As an Amazon Associate, CoffeeMistakes.com earns from qualifying purchases.
    </div>
  </footer>

  <script>
    const CONFIG = {
      affiliateTag: "shadiz0f-20",
      contactEmail: "contact@coffeemistakes.com"
    };

    const questions = [
      {
        id: 1,
        text: "What type of coffee person are you?",
        helper: "Choose the brewing style you're most interested in",
        options: [
          { value: "espresso", label: "‚òï Espresso drinks", description: "Lattes, cappuccinos, caf√©-quality drinks" },
          { value: "filter", label: "üåä Pour-over coffee", description: "V60, Chemex, manual brewing" },
          { value: "easy", label: "üò¥ Just wake me up", description: "Fast and simple, no complexity" },
          { value: "upgrade", label: "üìà Level up existing setup", description: "Already brewing, want better" }
        ]
      },
      {
        id: 2,
        text: "What's your total budget?",
        helper: "Include grinder, brewer, and accessories",
        options: [
          { value: "under200", label: "üí∏ Under $200", description: "Limited budget" },
          { value: "200to400", label: "üí∞ $200-400", description: "Sweet spot" },
          { value: "400to700", label: "üíé $400-700", description: "Quality tier" },
          { value: "over700", label: "ü§ë $700+", description: "No budget limits" }
        ]
      },
      {
        id: 3,
        text: "What grinder do you currently have?",
        helper: "Grinder quality matters MORE than the brewer",
        options: [
          { value: "none", label: "‚ùå No grinder yet", description: "Starting fresh" },
          { value: "blade", label: "üî™ Blade grinder", description: "The spinning kind" },
          { value: "cheap_burr", label: "üé∞ Budget burr ($50-100)", description: "Basic grinder" },
          { value: "good_burr", label: "‚úÖ Quality burr ($100+)", description: "Already good" }
        ]
      },
      {
        id: 4,
        text: "How fresh are your coffee beans?",
        helper: "Coffee stales after 4 weeks post-roast",
        options: [
          { value: "fresh", label: "‚ú® Roasted 2-3 weeks ago", description: "Fresh and optimal" },
          { value: "decent", label: "üì¶ Online/specialty store", description: "Reasonably fresh" },
          { value: "old", label: "üè™ Supermarket", description: "Older beans" },
          { value: "preground", label: "üíÄ Pre-ground", description: "Loses freshness fast" }
        ]
      },
      {
        id: 5,
        text: "How much morning time do you have?",
        helper: "When do you need that first sip?",
        options: [
          { value: "rushed", label: "‚ö° 5 minutes max", description: "Speed critical" },
          { value: "normal", label: "‚è∞ 10-15 minutes", description: "Standard routine" },
          { value: "ritual", label: "üßò 20+ minutes", description: "Coffee is meditation" }
        ]
      },
      {
        id: 6,
        text: "How do you feel about learning?",
        helper: "Some methods are simple, others need technique",
        options: [
          { value: "nerd", label: "ü§ì Love tweaking settings", description: "More control = more fun" },
          { value: "moderate", label: "üìö Some learning okay", description: "Reasonable curve" },
          { value: "minimal", label: "üòÖ Just want coffee", description: "Keep it simple" }
        ]
      },
      {
        id: 7,
        text: "What's wrong with your current coffee?",
        helper: "What makes you want to upgrade?",
        options: [
          { value: "tastes_bad", label: "üòñ Tastes off", description: "Sour, bitter, wrong" },
          { value: "inconsistent", label: "üé≤ Unpredictable", description: "Good sometimes, bad others" },
          { value: "weak", label: "üí™ Not strong enough", description: "Too weak" },
          { value: "fine", label: "üëç It's okay", description: "Just curious" }
        ]
      },
      {
        id: 8,
        text: "What describes you best?",
        helper: "Choose your coffee personality",
        options: [
          { value: "enthusiast", label: "üéì Coffee nerd", description: "Know the terminology" },
          { value: "casual", label: "‚òï Casual fan", description: "Quality matters" },
          { value: "busy", label: "‚è±Ô∏è Busy person", description: "Quality + speed" },
          { value: "newbie", label: "üê£ Total beginner", description: "First time" }
        ]
      }
    ];

    let currentQuestion = 0;
    let answers = {};

    function animateLiveCount() {
      const counter = document.getElementById('live-count');
      let count = 1200 + Math.floor(Math.random() * 100);
      counter.textContent = count.toLocaleString();
      setInterval(() => {
        count += Math.floor(Math.random() * 3);
        counter.textContent = count.toLocaleString();
      }, 10000);
    }

    animateLiveCount();

    function startQuiz() {
      document.getElementById('start-screen').classList.add('hidden');
      document.getElementById('quiz-screen').classList.remove('hidden');
      currentQuestion = 0;
      answers = {};
      showQuestion();
      gtag('event', 'quiz_start');
    }

    function showQuestion() {
      const question = questions[currentQuestion];
      updateProgress();

      const container = document.getElementById('question-container');
      let optionsHTML = question.options.map(option => `
        <div class="option" onclick="selectAnswer('${option.value}')" role="button" tabindex="0">
          <div>${option.label}</div>
          <div class="option-description">${option.description}</div>
        </div>
      `).join('');

      let backButton = currentQuestion > 0 ? '<div class="nav-buttons"><button class="back-btn" onclick="goBack()">‚Üê Back</button></div>' : '';
      let helper = question.helper ? `<div class="question-helper">üí° ${question.helper}</div>` : '';

      container.innerHTML = `
        <h3>${question.text}</h3>
        ${helper}
        <div class="options">${optionsHTML}</div>
        ${backButton}
      `;
    }

    function selectAnswer(value) {
      answers[questions[currentQuestion].id] = value;
      currentQuestion++;

      if (currentQuestion < questions.length) {
        showQuestion();
      } else {
        showLoading();
      }
    }

    function goBack() {
      if (currentQuestion > 0) {
        currentQuestion--;
        showQuestion();
      }
    }

    function updateProgress() {
      const progress = (currentQuestion / questions.length) * 100;
      document.getElementById('progress-fill').style.width = progress + '%';
      document.getElementById('progress-fill').parentElement.setAttribute('aria-valuenow', progress);
      document.getElementById('progress-text').textContent = `Question ${currentQuestion + 1} of ${questions.length}`;
    }

    function showLoading() {
      document.getElementById('quiz-screen').classList.add('hidden');
      document.getElementById('results-screen').classList.remove('hidden');
      document.getElementById('result-container').innerHTML = `
        <div class="loading">
          <div class="spinner"></div>
          <h2>Analyzing your profile...</h2>
          <p style="color: var(--coffee); margin-top: 10px;">Matching against 1000+ Reddit recommendations</p>
        </div>
      `;
      setTimeout(showResults, 1800);
    }

    function generateAmazonProducts(profile) {
      const products = {
        aeropress: { name: 'AeroPress Coffee Maker', desc: 'Best for beginners, makes excellent coffee in 2 min', keyword: 'aeropress coffee maker' },
        handgrinder: { name: 'Hario Mini Mill', desc: 'Budget hand grinder, excellent quality', keyword: 'hario mini mill grinder' },
        frenchpress: { name: 'Bodum French Press', desc: 'Classic brewer, easy to use', keyword: 'bodum french press 8 cup' },
        encore: { name: 'Baratza Encore', desc: 'Best budget electric grinder', keyword: 'baratza encore burr grinder' },
        gaggia: { name: 'Gaggia Classic Pro', desc: 'Entry espresso machine', keyword: 'gaggia classic pro espresso' },
        moccamaster: { name: 'Technivorm Moccamaster', desc: 'Premium automatic drip coffee', keyword: 'technivorm moccamaster' },
        v60: { name: 'Hario V60 Dripper', desc: 'Popular pour-over dripper', keyword: 'hario v60 pour over' },
        scale: { name: 'Coffee Scale with Timer', desc: 'Precision for better brewing', keyword: 'hario coffee scale timer' }
      };

      let recommended = [];
      if (profile.needsGrinder) recommended.push(products.handgrinder, products.encore);
      if (profile.goal === 'espresso') recommended.push(products.gaggia);
      if (profile.goal === 'easy') recommended.push(products.aeropress, products.frenchpress);
      if (profile.goal === 'filter') recommended.push(products.v60, products.scale);
      if (!recommended.length) recommended.push(products.aeropress, products.encore, products.scale);

      return recommended.slice(0, 4);
    }

    function buildProfile() {
      return {
        goal: answers[1],
        budget: answers[2],
        grinder: answers[3],
        beans: answers[4],
        time: answers[5],
        learning: answers[6],
        problem: answers[7],
        vibe: answers[8],
        needsGrinder: ['none', 'blade', 'cheap_burr'].includes(answers[3]),
        needsBeans: ['old', 'preground'].includes(answers[4])
      };
    }

    function showResults() {
      const profile = buildProfile();
      const products = generateAmazonProducts(profile);

      let html = `
        <h2>Your Personalized Coffee Setup</h2>
        <div class="result-message">Based on your answers, here's what we recommend...</div>
        
        <div class="advice-section">
          <h3>üéØ Your Priority Actions:</h3>
          <ol>
            ${profile.needsGrinder ? '<li>Upgrade to a quality burr grinder (most important step)</li>' : '<li>Your grinder is solid ‚úì</li>'}
            ${profile.needsBeans ? '<li>Switch to fresh beans roasted within 2-3 weeks</li>' : '<li>Your beans are good ‚úì</li>'}
            <li>Choose a brewing method that fits your lifestyle</li>
            <li>Invest in a kitchen scale for consistency</li>
          </ol>
        </div>

        <div class="amazon-section">
          <h3>üõí Recommended Equipment:</h3>
          <div class="amazon-links">
            ${products.map(p => `
              <div class="amazon-product">
                <div class="product-name">${p.name}</div>
                <div class="product-desc">${p.desc}</div>
                <a href="https://www.amazon.com/s?k=${encodeURIComponent(p.keyword)}&tag=${CONFIG.affiliateTag}" 
                   class="amazon-btn" target="_blank" rel="noopener noreferrer">
                   View on Amazon ‚Üí
                </a>
              </div>
            `).join('')}
          </div>
          <div class="small-text" style="text-align: center; margin-top: 15px;">
            Links include our Amazon Associate tag. No cost to you, helps support this site.
          </div>
        </div>

        <div class="share-section">
          <h3>üì¢ Share This Quiz</h3>
          <p>Help other coffee lovers avoid expensive mistakes!</p>
          <div class="share-buttons">
            <a href="https://twitter.com/intent/tweet?text=This+free+coffee+quiz+saved+me+from+buying+the+wrong+gear&url=https://coffeemistakes.com" 
               class="share-btn twitter" target="_blank" rel="noopener noreferrer">Share on Twitter</a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=https://coffeemistakes.com" 
               class="share-btn facebook" target="_blank" rel="noopener noreferrer">Share on Facebook</a>
            <a href="https://reddit.com/submit?url=https://coffeemistakes.com&title=Free+Coffee+Gear+Quiz" 
               class="share-btn reddit" target="_blank" rel="noopener noreferrer">Share on Reddit</a>
          </div>
        </div>

        <button class="restart-btn" onclick="restartQuiz()">üîÑ Take Quiz Again</button>

        <div class="disclosure">
          <p>CoffeeMistakes.com is a participant in the Amazon Associates Program. 
          Recommendations are based on community feedback and expert advice.</p>
        </div>
      `;

      document.getElementById('result-container').innerHTML = html;
      gtag('event', 'quiz_complete');
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function restartQuiz() {
      document.getElementById('results-screen').classList.add('hidden');
      document.getElementById('start-screen').classList.remove('hidden');
      currentQuestion = 0;
      answers = {};
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
  </script>
</body>
</html>
